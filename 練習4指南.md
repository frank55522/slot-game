# H5_Slot_練習4 簡報指南

## 題目一：GameLogo Bundle 載入與顯示

### 🎯 核心重點
1. **preload階段載入** gameLogo Bundle
2. **多語系顯示** 依照語系自動切換Logo圖片
3. **點擊/自動關閉** 3秒自動關閉或點擊任何位置關閉
4. **流程控制** Logo關閉後才能進入遊戲

### 📁 資源結構
```
assets/prefabs/gameLogo/GameLogo.prefab
assets/art/language/{en,zh,th}/intro/GameLogo.png
```

### 💡 關鍵技術
- **Bundle載入時機**：在`setLoadList()`的baseLoad中載入
- **多語系支援**：使用`LocalizedSprite`組件自動切換
- **圖層管理**：使用`LayerManager.setLayer(999)`確保最上層顯示
- **輸入處理**：全域輸入監聽支援滑鼠+觸控

---

## 🔧 核心程式碼

### 1. Bundle載入配置
`LoadingViewMediator.ts:167-172`
```typescript
{
    status: LoadStatus.NONE,
    info: { bundleName: 'gameLogo', assetName: 'GameLogo' },
    onTaskFinished: (prefab: Prefab) => {
        this.gameLogoPrefab = prefab;
}
```

### 2. 屬性定義
`LoadingViewMediator.ts:391-394`
```typescript
private gameLogoPrefab: Prefab | null = null;
private gameLogoNode: Node | null = null;
private logoCloseTimer: number = 0;
private canEnterGame: boolean = false;
```

### 3. 顯示時機控制
`LoadingViewMediator.ts:181-196`
```typescript
protected delayEnterLobby(): void {
    if (this.gameLogoPrefab && !this.gameLogoNode) {
        this.showGameLogo(this.gameLogoPrefab);
        return;
    }
    if (!this.canEnterGame) {
        return;
    }
    this.enterGameAfterLogo();
}
```

### 4. Logo顯示與輸入處理
`LoadingViewMediator.ts:399-416`
```typescript
private showGameLogo(prefab: Prefab) {
    this.gameLogoNode = instantiate(prefab);
    director.getScene().addChild(this.gameLogoNode);

    const dummyComponent = this.gameLogoNode.addComponent(Component);
    LayerManager.setLayer(dummyComponent, 999);

    this.startInputListening();

    this.logoCloseTimer = window.setTimeout(() => {
        this.closeGameLogo();
    }, 3000);
}
```

### 5. 關閉處理
`LoadingViewMediator.ts:440-465`
```typescript
private closeGameLogo() {
    if (this.gameLogoNode) {
        clearTimeout(this.logoCloseTimer);
        this.stopInputListening();
        this.gameLogoNode.destroy();
        this.gameLogoNode = null;
        this.canEnterGame = true;

        if (this.isInitData) {
            this.enterGameAfterLogo();
        }
    }
}
```

---

## 題目二：Symbol 動畫實作

### 🎯 核心重點
1. **Symbol動畫** 放大2倍再縮小回1倍
2. **圖層管理** 表演時Symbol須高於其他未表演Symbol
3. **觸發時機** 套用在顯示贏分連線的時候
4. **BaseView renderOrder** 使用BaseView的renderOrder調整圖層

### 💡 關鍵技術
- **Tween動畫**：使用cc.tween實現放大縮小效果
- **renderOrder管理**：表演Symbol設定更高的renderOrder值
- **連線表演時機**：在showWin時觸發Symbol動畫

*（程式碼待實作）*